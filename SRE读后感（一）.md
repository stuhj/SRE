## **SRE读后感**
这一周读了《SRE：Google运维解密》这本书的前两部分，在读之前就问了自己几个问题：
1. 什么是SRE。
2. SRE和传统OP、SWE（SoftWare Engineer）的区别是什么。
3. SRE的具体职责是什么，是如何工作的。
4. SRE的成长路线如何。

在读过前两部分之后，我试着合上书回答上面几个问题。

#### 1. SRE是什么？
> SRE可以翻译成站点可靠工程师，在Google是一个很Cool的岗位。
>
> 书中介绍SRE起源于一支软件工程师团队，他们厌恶重复的处理琐碎的运维事件，他们也不喜欢在复杂的生产环境环境中人工的分析事故原因。他们以软件工程师的角度去观察、分析、解决运维问题，通过开发自动化运维平台将他们的团队从繁重的运维工作中解放出来。



#### 2. SRE与SWE，传统OP的区别？
> - SWE的工作大多集中在架构设计与编码实现产品需求上，SWE需要保证自己的代码正确、高效、高产。
> - 传统OP的工作大多集中在管理生产环境，处理线上突发事故，OP需要保证线上服务的稳定性。
> - SRE关注一个服务从生产环境，到架构设计，到编码，到部署，最后到线上运行的全部过程。
> 
> SRE与SWE不同，SRE不需要过多的考虑产品代码本身的正确性以及效率，而是通过参与讨论架构设计、理解编码实现，合理的分析服务对资源的需求以及如何提高资源利用率、稳定性。
> 
> SRE与传统OP也不同，SRE更注重以技术的手段解决运维问题，Google的SRE团队会投入超过50%的精力去推动运维平台的发展，SRE希望机器可以代替人类管理机器，也就是实现自治运维系统。

PS：除了书上介绍的解放OP，我认为SRE也在一定程度上解放了SWE，降低他们的编程难度，让他们可以更关心产品的研发。

例如SWE在编码时，不再需要投入大量的精力考虑内存分配失败，磁盘是否写满，网络带宽是不足（这些对于SWE来说都是很棘手的事情吧）。因为当这些事件发生之前，SRE开发的监控、负载迁移系统早已搞定了一切。

#### 3.SRE的具体职责
> 关于SRE的具体职责，书中给出了明确的说明：
>
>SRE需要负责服务的可用性改进，延迟优化，性能优化，效率优化，变更管理，监控，紧急事务处理，容量规划。
>
> 以上职责中，变更管理的重要性大大的超过了我之前的认知。
>
> - 变更管理：Google SRE的经验告诉大家，70%的生产事故源自部署和变更。因此每一次变更必须是谨慎的。通过自动化系统实现渐进发布、问题检测、快速回退可以有效的提高服务的可用性。

#### 4.SRE工作所遵循的原则
这里没有列举书中第二部分principle所有的内容，以下是我记忆深刻的几点。

> 1. 拥抱故障
>       
>       需要承认，没有系统可以做到100%可用，根据可用性的定义，我们可以通过减少故障恢复时间来提升可用性。
> 2. 制定合理的SLA,SLO
>
>       Hope is not a strategy.
>
>       定量分析一个服务的可用性而不是依靠直觉。设置合理的SLO，SLA以及错误预算。有时候我们需要考虑将可用性从99.99%提升到99.999%的意义是否足够大？事实上，我们的目标是让用户满意的同时最大化产品迭代速度，而不是过度的追求数字上的“完美”。
> 3. 减少琐事
>
>       如果一份工作，它随着服务规模的扩大而增长，那么这份工作很有可能就是一件琐事。
> - 如果SRE整天忙于处理琐事，是不利于自身成长的，同时也会逐渐的失去对这份工作的乐趣。
> - 投入更多的时间在自动化平台研发上。SRE在平台研发的精力越多，需要人为参与处理的琐事就越少，这样就可以有更多的时间投入平台的研发，这是一个良性循环。
> 4. 自动化的意义：
>
> - 提供平台性：错误集中，流程可扩展、可优化。在一定程度上降低了对运维人员专业能力的要求。
> - 提高可用性：应急速度快，修复速度快，减少服务恢复速度。
> - 一致性强：在做大量重复操作时，人类总是会出错，但机器不会。
> - 除以上外，我们应该理解：自动化的价值是长期的！
> 5. 处理紧急事件
> - SRE希望自动化运维平台可以解决一切事故。
> - 逃过报警系统法眼的事故更具价值，它指导SRE去完善监控、报警系统。
> - 对每一次事故都应该总结和思考。
>
>   综上，可以认为SRE处理紧急事件以及SRE开发自动化运维平台是一个正反馈系统。

#### 5. SRE的成长
因为比较关心作为一名SRE，如何成长，我提前看了这本书的第四部分，这一部分介绍了一个管理者如何培养新加入团队的SRE。

> 1. 系统性的学习
> 2. 培养反向工程能力
> 
> > SRE不可能熟知所有的系统，因此需要锻炼自己反向工程的能力，即通过现象分析系统的本相。
> 3. 参与on call 
> 4. 培养自己随机应变的能力，当文档中记录的方法失效的时候，我们应该如何解决紧急事件？
> - 出色的反向工程能力在此时可以发挥巨大的作用。
> - 在压力下冷静、科学的处理突发事件。
> 5. 记得做事故后的总结

SRE和SWE的学习路线还是有一些不同的。之前无论是学习还是实习期间，都把自己定位成了一名软件研发工程师，学习途径通常是汲取前人经验（看教材，读论文，读源码，实现demo或mini项目），遇到任何问题，我都有充足的时间去学习、分析、解决问题。

然而SRE岗位的特殊性要求我不得不调整学习方法与学习方向。需要更多的独立思考，培养自己短时间内独立解决问题的能力。

